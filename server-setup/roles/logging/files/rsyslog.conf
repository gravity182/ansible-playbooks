# /etc/rsyslog.conf configuration file for rsyslog
#
# For more information install rsyslog-doc and see
# /usr/share/doc/rsyslog-doc/html/configuration/index.html
#
# Default logging rules can be found in /etc/rsyslog.d/50-default.conf


#################
#### MODULES ####
#################

# Module to read logs from the systemd journal
module(load="imjournal"
    StateFile="imjournal.state")  # file to store the position in the journal

###########################
#### GLOBAL DIRECTIVES ####
###########################

# Provide high precision timestamp
$ActionFileDefaultTemplate RSYSLOG_FileFormat

$RepeatedMsgReduction on

# Set the default permissions for all log files.
$FileOwner syslog
$FileGroup adm
$FileCreateMode 0640
$DirCreateMode 0755
$Umask 0022
$PrivDropToUser syslog
$PrivDropToGroup syslog

# Where to place spool and state files
$WorkDirectory /var/spool/rsyslog

# Set global ratelimit
# The same values as in journald.conf
$SystemLogRateLimitInterval 30
$SystemLogRateLimitBurst 10000

# Include all config files in /etc/rsyslog.d/
$IncludeConfig /etc/rsyslog.d/*.conf

######################
#### SYSTEM RULES ####
######################

# Some standard log files. Log by facility.
auth,authpriv.*                 /var/log/auth.log
*.*;auth,authpriv.none         -/var/log/syslog
cron.*                          /var/log/cron.log
kern.*                         -/var/log/kern.log
daemon.*                       -/var/log/daemon.log
mail.*                         -/var/log/mail.log
user.*                         -/var/log/user.log

# Some "catch-all" log files.
#
#*.=debug;\
#       auth,authpriv.none;\
#       news.none;mail.none     -/var/log/debug
*.=info;*.=notice;*.=warn;\
      auth,authpriv.none;\
      cron,daemon.none;\
      mail,news.none           -/var/log/messages

# Emergencies are sent to everybody logged in.
*.emerg                         :omusrmsg:*

# Save boot messages also to boot.log
local7.*                        /var/log/boot.log

# Application logs
local6.*                        /var/log/apps/application.log
